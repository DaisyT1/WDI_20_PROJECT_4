<section ng-controller="LocationsController as locations">

<!-- <ng-map center="[40.74, -74.18]" class="mapCanvas">
  <input places-auto-complete
      on-place-changed="locations.placeChanged()" />
  <div ng-show="vm.place">
      Address = {{vm.place.formatted_address}} <br/>
      Location: {{vm.place.geometry.location}}<br/>
    </div>
</ng-map> -->

<!--   Auto Complete Type:
  <select ng-model="vm.types">
    <option value="['geocode']">Geodode</option>
    <option value="['establishment']">Establishment</option>
    <option value="['address']">Address</option>
  </select><br/> -->

  <section ng-controller="MapsController as vm">
    Enter an address: <br/>
    <input places-auto-complete size=80 ng-model="vm.address" on-place-changed="vm.placeChanged()"> <br/>
    <div ng-show="vm.place">
      Address = {{vm.place.formatted_address}} <br/>
      Location: {{vm.place.geometry.location.lat()}}<br/>
    </div>
    address : {{vm.address}}
    <ng-map center="[51.5073509, -0.12775829999998223]" zoom="12" class="mapCanvas" zoom-to-include-markers="true">
      <marker ng-repeat="location in locations.all"
            position="pos: {{location.lat}}" title="pos: {{location.lng}}"></marker>
    <info-window id="window">
            <div ng-non-bindable="">
              id: hello<br/>
            </div>
          </info-window>
    </ng-map>
 </section>


  <h1>Locations</h1>

    <ul id="locations">
      <li ng-repeat="location in locations.all">
        <strong>{{location.name}}</strong>-<em> - lat:{{location.lat}}, lng:{{location.lng}}</em>
      </li>
    </ul>

    <form class="add-location" ng-submit='locations.addLocation()'>
      <div>
        <input type="text" id="new-location-name" placeholder="Loc name" ng-model='locations.newLocation.name'>
      </div>

    <!--   <div>
        <input type="hidden" id="new-location-lat" placeholder="lat" ng-model='locations.newLocation.lat'>
      </div>

      <div>
        <input type="hidden" id="new-location-lng" placeholder="lng" ng-model='locations.newLocation.lng'>
      </div> -->

      <div>
        <input type="submit" value="Add Location">
      </div>
    </form>

